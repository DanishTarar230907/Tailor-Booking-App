# âœ… Firebase Setup - What's Been Done

## ðŸŽ‰ Completed Automatically

1. âœ… **Firebase dependencies added** to `pubspec.yaml`
   - `firebase_core`
   - `firebase_auth`
   - `cloud_firestore`

2. âœ… **Dependencies installed** - All packages downloaded and ready

3. âœ… **Code structure created:**
   - `lib/services/auth_service.dart` - Authentication service
   - `lib/screens/auth_screen.dart` - Login/Signup UI
   - `lib/screens/auth_wrapper.dart` - Role-based routing
   - `lib/firebase_options_stub.dart` - Placeholder for Firebase config
   - Updated `lib/main.dart` - Firebase initialization
   - Updated dashboards with logout functionality

4. âœ… **Setup scripts created:**
   - `setup_firebase.ps1` (Windows)
   - `setup_firebase.sh` (Linux/Mac)

5. âœ… **Documentation created:**
   - `FIREBASE_SETUP.md` - Detailed guide
   - `QUICK_START.md` - Quick reference

## ðŸ”§ What You Need to Do (5-10 minutes)

### Step 1: Login to Firebase (Required)

Open a **new terminal/command prompt** and run:

```bash
firebase login
```

This will:
- Open your browser
- Ask you to sign in with Google
- Authorize Firebase CLI

**Note:** If you get a PowerShell execution policy error, run this in PowerShell **as Administrator**:
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### Step 2: Configure Firebase (Required)

After logging in, run:

```bash
dart pub global run flutterfire_cli:flutterfire configure
```

**Follow the prompts:**
1. It will ask if you want to create a new project â†’ Type **`y`** and press Enter
2. Enter a project name (e.g., "grace-tailor-studio")
3. Select platforms (at minimum, select **web** - you can add others later)
4. The script will generate `lib/firebase_options.dart` automatically

### Step 3: Enable Firebase Services (Required)

1. Go to [Firebase Console](https://console.firebase.google.com/)
2. Select your project (the one you just created)
3. **Enable Authentication:**
   - Click **Authentication** in the left menu
   - Click **Get started**
   - Go to **Sign-in method** tab
   - Click on **Email/Password**
   - Toggle **Enable** to ON
   - Click **Save**

4. **Create Firestore Database:**
   - Click **Firestore Database** in the left menu
   - Click **Create database**
   - Choose **Start in test mode** (for development)
   - Select a location (choose closest to you)
   - Click **Enable**

### Step 4: Test the App

```bash
flutter run
```

You should now see:
- âœ… Login/Signup screen
- âœ… Ability to create accounts
- âœ… Role selection (Tailor/Customer)
- âœ… Automatic routing to correct dashboard

## ðŸ“‹ Verification

After setup, verify these files exist:
- âœ… `lib/firebase_options.dart` (generated by flutterfire configure)

Check Firebase Console:
- âœ… Authentication > Users (should be empty initially)
- âœ… Firestore Database > users collection (will be created on first signup)

## ðŸŽ¯ Quick Commands Reference

```bash
# Login to Firebase
firebase login

# Configure Firebase for Flutter
dart pub global run flutterfire_cli:flutterfire configure

# Run the app
flutter run

# If you need to check Firebase login status
firebase login:list
```

## ðŸ†˜ Common Issues

### Issue: "firebase: command not found"
**Solution:** Install Firebase CLI:
```bash
npm install -g firebase-tools
```

### Issue: PowerShell execution policy error
**Solution:** Run PowerShell as Administrator:
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### Issue: "Firebase is not configured yet" when running app
**Solution:** Make sure `lib/firebase_options.dart` exists. If not, run:
```bash
dart pub global run flutterfire_cli:flutterfire configure
```

### Issue: Authentication errors
**Solution:** 
- Verify Email/Password is enabled in Firebase Console
- Check Firestore database is created
- Check browser console for detailed errors

## ðŸ“š Next Steps After Setup

Once Firebase is configured:

1. **Test Authentication:**
   - Create a Tailor account
   - Create a Customer account
   - Verify they route to correct dashboards

2. **Customize (Optional):**
   - Add password reset functionality
   - Add email verification
   - Customize Firestore security rules for production

3. **Deploy:**
   - When ready, update Firestore security rules
   - Consider enabling additional Firebase features

## âœ¨ You're Almost There!

Just complete Steps 1-3 above (takes about 5-10 minutes), and your app will be fully functional with Firebase authentication!

For detailed instructions, see `FIREBASE_SETUP.md` or `QUICK_START.md`.

